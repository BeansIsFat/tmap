---
title: "tmap layers part 1: visual variables"
author: "Martijn Tennekes"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    toc_float:
      collapsed: false
      smooth_scroll: false
    toc_depth: 2
link-citations: yes
vignette: >
  \usepackage[utf8]{inputenc}
  %\VignetteIndexEntry{tmap layers: visual variables}
  %\VignetteEngine{knitr::rmarkdown}
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.width = 9, warning = FALSE)
```

```{r, echo = FALSE, message = FALSE}
library(tmap)
data(World, metro, rivers, land)
#tmap_design_mode()
```

## Terminology used by tmap

A *visual variable* describes a certain visual property of an drawn object, such as color, size, shape, line width, line stroke, transparency, fill pattern. (In ggplot2 these are called aesthetics.). 

A (thematic) map consists of one or more *map layers*. For example: a basemap, a layer of polygons, a layer of polylines, a layer of symbols, and a layer of text.

Each map layer has a specific set of visual variables that determine how the objects of that layer are drawn.
Examples:



| Map layer			| Visual variables (constant or data-driven)| Visual variable (constant only) |
|---				|---							|---							|
| `tm_basemap`  	| none							| `alpha`						|
| `tm_polygons`     | `fill` (fill color), `col` (border color), `lwd` (border line width) `lty` (border line type), `fill_alpha` fill transparency, `col_alpha` border color transparency		| `linejoin` (line join) and `lineend` (line end) |
| `tm_bubbles`		| `fill` (fill color), `col` (border color), `lwd` (border line width) `lty` (border line type), `fill_alpha` fill transparency, `col_alpha` border color transparency		| `linejoin` (line join) and `lineend` (line end) |
| `tm_lines`   		| `col` (color), `lwd` (line width) `lty` (line type), `alpha` transparency	| `linejoin` (line join) and `lineend` (line end) |
| `tm_raster`   	| `col` (color), `col_alpha` (transparency)	| |
| `tm_text`   		| `size`, `col` | |


A visual variable can be specified using a constant value (e.g. `fill = "blue"`) or *data-driven*, i.e. where a certain data variable determines the fill color (by using a certain scale, more on this layer). When it can only be specified with a constant value, it is called a *visual constant*.



---
title: "Testing v4"
author: "Martijn Tennekes"
date: "9/7/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Instructions

Open the tmap repository as RStudio project.
Set Knit Directory (via drop-down menu of the Knit button in RStudio) to Project Directory.

```{r echo=FALSE,message=FALSE,fig.height = 2}
library(devtools)
load_all()
data(World,metro,land)
tmapV = substr(packageVersion("tmap"), 1, 1)
grid::grid.text(paste("Loaded tmap version", tmapV), gp = gpar(cex = 3))
```

# Facetting shapes

## Polygons

### One facet

```{r}
tm_shape(World) +
	tm_polygons("HPI")
```


### Multiple facets, specified with multiple variables

```{r}
# one polygon shape, two aes values
tm_shape(World) +
	tm_polygons(c("HPI", "income_grp"))
```

### Multiple facets, specified by a 'facet wrap'

```{r}
# split polygon shape (by)
tm_shape(World) +
	tm_polygons("HPI") +
	tm_facets(by = "continent")
```

### Multiple facets, specified by a 'facet wrap', with fixed coordinates

```{r}
# split polygon shape (by), with fixed coords
tm_shape(World) +
	tm_polygons("HPI") +
	tm_facets(by = "continent", free.coords = FALSE)
```

### Multiple facets, specified by a 'facet wrap', with fixed coordinates, and keep units (set to color null)

```{r}
# split polygon shape (by), with fixed coords
tm_shape(World) +
	tm_polygons("HPI") +
	tm_facets(by = "continent", free.coords = FALSE, drop.units = FALSE)
```


### Filter



```{r}
# split polygon shape (by), with fixed coords
tm_shape(World, filter = World$pop_est > 100e6) +
	tm_polygons(c("blue", "red"))
```


```{r}
# split polygon shape (by), with fixed coords
tm_shape(World, filter = World$pop_est > 100e6) +
	tm_polygons("HPI")
```


```{r}
# split polygon shape (by), with fixed coords
tm_shape(World, filter = World$pop_est > 100e6) +
	tm_polygons(c("HPI", "economy"))
```
